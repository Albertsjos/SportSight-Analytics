<!doctype html>
<html>
<head>
  <title>Playing XI Comparison</title>

  <style>
    body{
      background: radial-gradient(circle at top, #0b1220, #050816);
      color:white;
      font-family: Arial;
      padding:30px;
    }

    select, button{
      padding:12px;
      border-radius:10px;
      border:none;
      margin-right:10px;
    }

    button{
      background:#4f86ff;
      color:white;
      font-weight:bold;
      cursor:pointer;
    }

    .card{
      background:rgba(255,255,255,0.06);
      border:1px solid rgba(255,255,255,0.12);
      border-radius:16px;
      padding:20px;
      margin-top:20px;
    }

    table{
      width:100%;
      border-collapse:collapse;
      margin-top:15px;
    }

    th, td{
      padding:10px;
      border-bottom:1px solid rgba(255,255,255,0.15);
      text-align:left;
    }
  </style>
</head>

<body>

<h2>Playing XI Player Comparison</h2>

<form method="get">
  <select name="players" multiple size="8">
    {% for p in players %}
      <option value="{{ p.id }}">{{ p.player_name }}</option>
    {% endfor %}
  </select>

  <button type="submit">Compare Players</button>
</form>

{% if count >= 2 %}
<div class="card">
  <h3>Team Analytics Summary ({{ count }} Players)</h3>
  Goals: {{ summary.goals }} <br>
  Assists: {{ summary.assists }} <br>
  Tackles: {{ summary.tackles }} <br>
  Shots: {{ summary.shots }} <br>
  Avg Goals / Player: {{ avg.goals }} <br>
</div>

<div class="card">
  <h3>Individual Contributions</h3>
  <table>
    <tr>
      <th>Player</th>
      <th>Position</th>
    </tr>

    {% for p in selected_players %}
    <tr>
      <td>{{ p.player_name }}</td>
      <td>{{ p.position }}</td>
    </tr>
    {% endfor %}
  </table>
</div>
{% endif %}

</body>
</html>
